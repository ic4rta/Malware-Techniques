#include <windows.h>
#include <tchar.h>
#include <stdio.h>

int _tmain() {
    HKEY hKey;
    LPCSTR lpSubKey = "Software\\Microsoft\\Windows\\CurrentVersion\\Run";
    LPCSTR lpValueName = "RunRegistryKeys"; //nombre del ejecutable
    LPCSTR rutaApp = "C:\\Users\\c4rta\\Downloads\\RunRegistryKeys.exe"; //ruta del ejecutable

    LONG result = RegOpenKeyEx(HKEY_CURRENT_USER, lpSubKey, 0, KEY_WRITE, &hKey);

    if (result == ERROR_SUCCESS) {
        RegSetValueEx(hKey, lpValueName, 0, REG_SZ, (BYTE*)rutaApp, strlen(rutaApp) + 1);
        RegCloseKey(hKey);
    } 
    return 0;
}
